Ext.define("FeedbackForm",{extend:"Ext.form.Panel",border:!1,initComponent:function(){this.store=Ext.create("Ext.data.Store",{fields:["FA"],data:[{FA:"Installation"},{FA:"Interface"},{FA:"Performance"},{FA:"Documentation"}]}),Ext.apply(this,{width:400,defaults:{margin:"20 0 0 20"},items:[{xtype:"textfield",name:"nameField",fieldLabel:"Name",allowBlank:!1,anchor:"100%",blankText:"This field is required",emptyText:"Your name",vtype:"alpha",maxLength:50},{xtype:"textfield",name:"emailField",fieldLabel:"Email",allowBlank:!1,anchor:"100%",blankText:"This field is required",emptyText:"Your email address",vtype:"email",maxLength:50},{xtype:"combobox",name:"FAField",fieldLabel:"Functional Area ",allowBlank:!1,store:this.store,displayField:"FA",anchor:"100%",mode:"local",triggerAction:"all"},{xtype:"textareafield",grow:!0,allowBlank:!1,fieldLabel:"Comments ",name:"comments",anchor:"100%"},{xtype:"container",layout:{type:"hbox",pack:"end"},items:[{xtype:"button",text:"Submit",scope:this,handler:this.submitForm},{xtype:"button",text:"Reset",margin:"0 0 0 20",scope:this,handler:this.resetForm}]}]}),this.callParent(arguments)},afterRender:function(){this.callParent(arguments)},submitForm:function(){var e;this.isValid()&&(e=this.getForm().getValues(),Ext.Ajax.request({url:"feedback/submit",method:"GET",scope:this,params:{name:e.nameField,email:e.emailField,feedback:e.comments},success:function(e,t){"1"==e.responseText&&(Ext.Msg.alert("Thank you","Your Feedback is very valuable !"),this.resetForm())}}))},resetForm:function(){this.getForm().reset()}});